# Register Screen:
<MetroRegister>:
    #Variables:
    #In order to extract the input values:
    register_email: reg_email
    register_name : reg_name
    register_pass : reg_pass

    name: "register"

    # background (outer box)
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.75, 0.75, 0.75, 1
            Rectangle:
                pos: self.pos
                size: self.size

    # background (inner box)
    FloatLayout:
        pos_hint : {"x":0.3,"y":0.170}

        canvas.before:

            Color:
                rgba: 1, 1, 1, 0.90
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size[0] / 2.5, self.size[1] / 1.5

    # START OF REGISTER FUNCTIONALITY :

    FloatLayout:
        #Metro Image
        Image:
            source: "C:/Users/Kessler/Desktop/metro_project/assets/images/logo/original/metro_logo_inverted.png"
            size_hint : 0.1,0.1
            #pos_hint : {"x":0.52,"y":0.68}
            pos_hint : {"x":0.35,"y":0.68}

        #Metro Text [ must include text_size because of random nonesense ]
        Label:
            text_size : self.size
            text: "METRO"
            pos_hint : {"x":0.375,"y":0.8}
            font_name : "C:/Users/Kessler/Desktop/metro_project/assets/fonts/AGITPOP.TTF"
            color : [1,0.76,0.05,0.75]
            font_size : win.Window.size[0] / 25
            pos_hint : {"x":0.45,"y":0.7}

        #Email [ must include text_size because of random nonesense ]
        Label:
            text_size : self.size
            text: "Email"
            pos_hint : {"x":0.375,"y":0.6}
            color : [0.2,0.2,0.2,1]

        TextInput:
            id : reg_email
            size_hint: 0.25,0.05
            pos_hint : {"x":0.375,"y":0.55}
            multiline : False
            background_color : [0.9,0.9,0.9,1]
            background_normal: ''
            background_active: ''
            font_size : win.Window.size[0] / 50
            cursor_color: [1,0.76,0.05,0.75]
            selection_color : [1,0.76,0.05,0.75]

        #Username [ must include text_size because of random nonesense ]
        Label:
            text_size : self.size
            text: "Username"
            pos_hint : {"x":0.375,"y":0.5}
            color : [0.2,0.2,0.2,1]
        TextInput:
            id : reg_name
            size_hint: 0.25,0.05
            pos_hint : {"x":0.375,"y":0.45}
            multiline : False
            background_color : [0.9,0.9,0.9,1]
            background_normal: ''
            background_active: ''
            font_size : win.Window.size[0] / 50
            cursor_color: [1,0.76,0.05,0.75]
            selection_color : [1,0.76,0.05,0.75]



        #Password [ must include text_size because of random nonesense ]
        Label:
            text_size : self.size
            text: "Password"
            pos_hint : {"x":0.375,"y":0.4}
            color : [0.2,0.2,0.2,1]
        TextInput:
            id : reg_pass
            size_hint: 0.25,0.05
            pos_hint : {"x":0.375,"y":0.35}
            multiline : False
            background_color : [0.9,0.9,0.9,1]
            background_normal: ''
            background_active: ''
            font_size : win.Window.size[0] / 50
            cursor_color: [1,0.76,0.05,0.75]
            password : True
            selection_color : [1,0.76,0.05,0.75]

        #SignUp Button:
        Button:
            id : signup_btn
            background_normal: ''
            background_down: ''
            background_color : [0.2,0.2,0.2,1] if signup_btn.state == "normal" else [1,0.76,0.05,0.75]

            text:"Sign Up"
            size_hint: 0.25,0.05
            pos_hint : {"x":0.375,"y":0.27}

            on_release: root.send_info()

        #Go Back Label:
        Button:
            id : register_btn
            background_normal: ''
            background_down: ''
            background_color : [0.97,0.97,0.97,0.9]
            color : [0.2,0.2,0.2,1] if register_btn.state == "normal" else [1,0.76,0.05,0.75]
            text:"Go Back"
            size_hint: 0.1,0.05
            pos_hint : {"x":0.448,"y":0.213}
            font_size : win.Window.size[0] / 110
            on_release:
                root.manager.transition = notrans.NoTransition()
                app.root.current = "login"

        Label:
            text_size : self.size
            text: "Already have an account?"
            pos_hint : {"x":0.375,"y":0.23}
            color : [0.2,0.2,0.2,1]
            font_size : win.Window.size[0] / 110


    # END OF REGISTER FUNCTIONALITY